<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
        <script type="text/javascript">
            window.Polymer = {
                dom: 'shadow'
            };
        </script>
        <link rel="import" href="../../iron-flex-layout/iron-flex-layout.html">
        <link rel="import" href="../../paper-toast/paper-toast.html">
        <link rel="import" href="../kano-nav-bar.html">
        <link rel="stylesheet" href="./fonts.css">
        <style is="custom-style">
            html, body {
                margin: 0px;
                padding: 0px;
                background-color: #fbfbfb;
                width: 100vw;
                height: 100vh;
                @apply(--layout-vertical);
                @apply(--layout-justified);
            }
            kano-nav-bar {
                --kano-nav-bar-font-family: 'bariol';
            }
            kano-nav-bar:nth-of-type(1) {
                z-index: 3;
            }
            kano-nav-bar:nth-of-type(2) {
                z-index: 2;
            }
            kano-nav-bar:nth-of-type(3) {
                z-index: 1;
            }
        </style>
    </head>
    <body>
        <template is="dom-bind" id="bind">
            <kano-nav-bar user="[[user1]]" xp="700" notifications="[[notifications1]]" assets-path="./assets/navbar/" world-root="https://world.kano.me" default-avatar="http://a.deviantart.net/avatars/m/a/marcelineplz.jpg?3"></kano-nav-bar>
            <kano-nav-bar user="[[user2]]" xp="100" assets-path="./assets/navbar/" world-root="https://world.kano.me" default-avatar="http://a.deviantart.net/avatars/m/a/marcelineplz.jpg?3"></kano-nav-bar>
            <kano-nav-bar xp="1200" assets-path="./assets/navbar/" world-root="https://world.kano.me" default-avatar="http://a.deviantart.net/avatars/m/a/marcelineplz.jpg?3"></kano-nav-bar>
            <paper-toast id="toast"></paper-toast>
        </template>
        <script type="text/javascript">
            function notify (message) {
                var toast = document.getElementById('toast');
                toast.show(message);
            }
            var bind = document.getElementById('bind');
            bind.user1 = {
                avatar: {
                    urls: {
                        circle: 'http://vignette2.wikia.nocookie.net/filthy-frank/images/8/8d/516c32f08e03d.png/revision/latest?cb=20151019010624'
                    }
                },
                username: 'CageMan',
                admin_level: 10
            };
            bind.user2 = {
                avatar: {
                    urls: {}
                },
                username: 'JohnCena'
            };
            bind.notifications1 = [{
                id: 'notification-1',
                title: 'Something happened',
                time: new Date(),
                read: false,
                type: 'shares',
                category: 'shares',
                url: 'http://url.com',
                meta: {
                    item: {
                        id: 'item-id'
                    }
                }
            },{
                id: 'notification-2',
                title: 'Something happened',
                category: 'likes',
                time: new Date(),
                read: true,
                type: 'likes',
                url: 'http://url.com',
                meta: {
                    author: {
                        username: 'JohnCena'
                    }
                }
            },{
                id: 'notification-3',
                title: 'Something happened',
                time: new Date(),
                read: false,
                type: 'updates',
                category: 'updates',
                url: 'http://url.com'
            },{
                id: 'notification-4',
                title: 'Something happened',
                category: 'follows',
                time: new Date(),
                read: true,
                type: 'shares',
                url: 'http://url.com'
            },{
                id: 'notification-5',
                title: 'A forum post happened.',
                category: 'comments',
                time: new Date(),
                read: false,
                item: {
                  type: 'forum-post',
                },
                url: 'http://url.com'
            }];
            bind.notifications2 = [{
                id: 'notification-5',
                title: 'Something happened',
                category: 'comments',
                time: new Date(),
                read: true,
                type: 'shares',
                url: 'http://url.com'
            }];
            document.addEventListener('login', function () { notify('login'); });
            document.addEventListener('signup', function () { notify('signup'); });
            document.addEventListener('logout', function () { notify('logout'); });
            document.addEventListener('notifications-read-all', function () { notify('notifications-read-all'); });
            document.addEventListener('notifications-read', function (e) { notify('notifications-read: ' + e.detail.id); });
        </script>
    </body>
</html>
